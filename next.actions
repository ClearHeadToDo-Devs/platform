[ ] Get Sync Server working $ A core usecase is working from other computers including a phone and to do that we need to get our sync server implementation working with the ability to easily sync a list of actions between devices so that we can accomodate all forms of connections !1 ^2026-01-10T13:40 #019ba9da-2770-7380-9f40-923cbaa5302e
[ ] Implement persistent event logging for recurring actions $ Templates with RRULE stay in .actions files and never complete. When instances become due or are completed, log lifecycle events to persistent SQLite database for time-series analytics. Keeps query DB in-memory, adds separate events.db for history !1 ^2026-01-10T13:42 #019ba9dc-695c-71a2-9351-f561fea82e3b
        >[x] Design events DB schema $ Create schema for ~/.local/state/clearhead/events.db with action_events table. Fields: event_id, timestamp, event_type, action_uuid, file_path, metadata (JSON). Append-only, indexed by timestamp and action_uuid. Using XDG_STATE_HOME to avoid git conflicts !1 +specification +database %2026-01-10T21:45 ^2026-01-10T18:39 #019baaec-00b6-7991-be34-949215353bff
        >[x] Implement events DB module in CLI $ Created events.rs module with init_events_db and emit_event functions. Uses SQLite with WAL mode for concurrent writes. Path-configurable for testing. All unit tests passing !1 +implementation +cli %2026-01-10T21:45 ^2026-01-10T18:39 #019baaec-00b6-7991-be34-94aaae446912
        >[x] Add event logging for action lifecycle $ Hook emit_event into CLI commands (complete, add, etc.). Implement structural diffing to detect hand-edits. Emit events on file save from LSP !1 +implementation +cli %2026-01-10T23:00 ^2026-01-10T18:39 #019baaec-00b6-7991-be34-94b68212619a
        >[x] Implement event backfilling for existing files $ Created sync-events command to hydrate the events DB from existing .actions files. Detects existing events to avoid duplicates and uses original creation timestamps !1 +implementation +cli %2026-01-10T23:30 ^2026-01-10T23:15 #019bab83-7d53-7db2-8844-5d35bc20d8b2
        >[x] Implement tiered system logging $ Added tracing crate for structured application-level logging (INFO/DEBUG/TRACE). All CLI commands and LSP now emit operational logs to stderr for systemd/journald transparency !1 +implementation +cli %2026-01-10T23:55 ^2026-01-10T23:45 #019bab87-bc42-7991-be34-949215353bff
        >[ ] Implement event queries and analytics $ Add CLI commands: show completion history for action, compute "actions open on date X", completion rate over time, streaks. Query events DB with filters (date range, action, project). Export to JSON/CSV !2 +implementation +cli ^2026-01-10T18:39 #019baaec-00b6-7991-be34-94cd3639454e
        >[ ] Add optional event aggregation server $ Design protocol for syncing local events.db to central aggregation server (PostgreSQL/InfluxDB). Offline-first, batched syncs. Server optional - local analytics work without it !3 +implementation +server ^2026-01-10T18:39 #019baaec-00b6-7991-be34-94de73b97450
        >[x] Document event logging system $ Created event_logging_specification.md with full event sourcing architecture. Updated naming_conventions.md to use events.db instead of plaintext logs. Documented XDG_STATE_HOME usage and DuckDB aggregation path !2 +documentation %2026-01-10T21:45 ^2026-01-10T18:39 #019baaec-00b6-7991-be34-94edcd95d79c
[ ] Expand the reference syntax $ we like the UUIDs but we want to support more interesting ways to reference actions in more human-readable ways !2 ^2026-01-10T20:37 #019bab58-41c2-7cb2-b34e-c3dbc28ea041
        >[ ] Support alias syntax for action files $ in order to make references more human-readable we want to implement some form of syntax to easily reference action files using aliases. This will help in reducing the complexity of file paths and make the codebase more maintainable. ^2026-01-10T13:37 #019ba9d8-3595-7850-805c-9af083dd975b
        >[ ] Add support for git hash-like syntax that uses the first 8 characters of the UUID $ This will allow users to reference actions using a shorter and more convenient format, similar to how git allows referencing commits. ^2026-01-10T13:37 #019bab58-b943-7d53-8844-5d35bc20d8b2
        >[ ] Support using index number for contexts like the cli $ when working from the cli, it can often be easier to just say "use the 3rd action in the list" rather than any of the other methods ^2026-01-10T20:40 #019bab5b-6e95-7a71-b74c-d540651b6543
[ ] Implement ontology-based validation in the linter $ now that we have the context.json file set up, we can leverage this to give even more succinct and accurate linting errors, especially those involving child or dependency chains !2 ^2026-01-10T13:38 #019ba9d9-082d-7460-ab91-1887c19b9bc6
